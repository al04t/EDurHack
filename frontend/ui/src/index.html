<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>The Chucking Dillema </title>
    
    <link rel="stylesheet" href="../style/style.css"/>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet-heatmap/leaflet-heatmap.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/heatmap.js/2.0.2/heatmap.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://unpkg.com/leaflet-heatmap@1.0.0/leaflet-heatmap.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="stylesheet" href="../style/style1.css">
</head>
<body>
	<div class="sections">
		<section class="hero">
			<h1>How Much wood can a WoodChuck chuck if a Wood Chuck could chuck wood?</h1>
		</section>

		<section id="dis_map">
                <img id="logo" style="width: 50px;height: 50px;" src="../Assets/image.png" alt="Woodchuck Logo" />
                <div id="mapSection">
                    <img id="logo" style="width: 50px;height: 50px;" src="../Assets/image.png" alt="Woodchuck Logo" />
                    <div id="mapContainer">
                        
                        <div id="map"></div>
                        <div id="gradient" style="color:#5A4634;writing-mode: vertical-rl;text-orientation: sideways; display: flex; justify-content: center; align-items: center;">Chuck Strength</div>
                    </div>
                    <div id="sliderContainer">
                    <p style="color: #F9F8EA;">Value: <span id="value"></span></p>
                        <input type="range" min="2018" max="2528" value="2018" class="slider" id="yearSlider">
             
                         <img id="logo" style="width: 50px;height: 50px; " src="../Assets/image.png" alt="Woodchuck Logo" />
                    </div>
                </div>
                <img id="logo" style="width: 50px;height: 50px;transform: rotate(90deg);transform-origin: center;" src="../Assets/image.png" alt="Woodchuck Logo" />
		</section>

		<section id="dashboard">
			<div class="dashboard">
				<button id="dataButton">Chuck graph</button>
				<div id="wood_chucking_at" class="chart">
					<canvas id="XYchart"></canvas>
				</div>
                <div id="wood_chucking_anum" class="chart">
					<canvas id="BARchart"></canvas>
				</div>
                <div id="maximum_chucking" class="chart">
					<p>Maximum wood chucking</p>
					<p id="maxWood"></p>
				</div>
                <div id="minimum_chucking" class="chart">
					<p>Minimum wood chucking</p>
					<p id="minWood"></p>
				</div>
			</div>
		</section>

        <section id="mayTheChuckBeMax">
            <p>May the Chuck be with you!</p>
        </section>
	</div>

    <script src="../src/script.js"></script>
	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-o9N1j7kJT3vGkT1Q6jT+gQbm0gq3k6k6bS+1n6v5Yyo=" crossorigin=""></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script>
	const map = L.map('map', {center:[40.0,-76.7],zoom:8,scrollWheelZoom:false});
		const tiles = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'Â© OpenStreetMap contributors'}).addTo(map);

		const markers = L.layerGroup().addTo(map);

		function randMarkers(){
			markers.clearLayers();
			// sample random points in PA-ish box
			for(let i=0;i<120;i++){
				const lat = 39 + Math.random()*2.5;
				const lon = -80 + Math.random()*4.5;
				const est = Math.round(Math.random()*10000)/10;
				const m = L.circleMarker([lat,lon],{radius:6,fillColor:'#1e90ff',color:'#083058',weight:1,fillOpacity:0.85}).bindPopup(`lat:${lat.toFixed(2)} lon:${lon.toFixed(2)}<br>est: ${est}`);
				markers.addLayer(m);
			}
		}
		randMarkers();

	setTimeout(()=>{ try{ map.invalidateSize(); }catch(e){} },250);
	window.addEventListener('load', ()=>{ try{ map.invalidateSize(); }catch(e){} });
	window.addEventListener('resize', ()=>{ try{ map.invalidateSize(); }catch(e){} });
		document.getElementById('btn-zoompa').addEventListener('click',()=>map.setView([40.0,-76.7],8));
		document.getElementById('btn-default').addEventListener('click',()=>{tiles.addTo(map);randMarkers();toggleActive('btn-default')});
		document.getElementById('btn-heat').addEventListener('click',()=>{tiles.addTo(map);randMarkers();toggleActive('btn-heat')});
		function toggleActive(id){document.querySelectorAll('.view-btn').forEach(b=>b.classList.remove('active'));document.getElementById(id).classList.add('active')}

	</script>
</body>
</html>

